<?xml version="1.0" encoding="UTF-8"?>
<Patch>
   <Operation Class="PatchOperationFindMod">
      <mods>
         <li>Vanilla Factions Expanded - Insectoids</li>
      </mods>
      <match Class="PatchOperationSequence">
         <operations>
            <li Class="PatchOperationAdd">
               <xpath>/Defs</xpath>
               <value>
                  <ThingDef ParentName="VFEP_BaseWarcasketGun">
                     <defName>VFEP_WarcasketGun_CryptoCannon</defName>
                     <label>warcasket crypto cannon</label>
                     <description>Combines both crypto technology with military flamethrowers for a close range defense weapon. Sacrifices direct damage potential for area denial. Applies variable cold effect to those affected by the stream of supercooled particles, reducing their manipulation and inducing hypothermia. Ideally used with a pair of fast-moving warcaskets.</description>
                     <graphicData>
                        <texPath>Things/Item/Weapons/WarcasketCryptoCannon</texPath>
                     </graphicData>
                     <soundInteract>Interact_Rifle</soundInteract>
                     <statBases>
                        <MarketValue>3600</MarketValue>
                        <WorkToMake>45000</WorkToMake>
                        <Mass>35</Mass>
                        <AccuracyTouch>0.65</AccuracyTouch>
                        <AccuracyShort>0.72</AccuracyShort>
                        <AccuracyMedium>0.84</AccuracyMedium>
                        <AccuracyLong>0.70</AccuracyLong>
                        <RangedWeapon_Cooldown>3</RangedWeapon_Cooldown>
                     </statBases>
                     <weaponTags>
                        <li>WarcasketVeteran</li>
                     </weaponTags>
                     <thingSetMakerTags>
                        <li>RewardStandardLowFreq</li>
                     </thingSetMakerTags>
                     <verbs>
                        <li>
                           <verbClass>Verb_Shoot</verbClass>
                           <hasStandardCommand>true</hasStandardCommand>
                           <defaultProjectile>VFE_Bullet_CryptoCannon</defaultProjectile>
                           <warmupTime>2.2</warmupTime>
                           <range>9.9</range>
                           <ticksBetweenBurstShots>17</ticksBetweenBurstShots>
                           <burstShotCount>1</burstShotCount>
                           <soundCast>VFEP_Shot_HeavyFlamer</soundCast>
                           <soundCastTail>GunTail_Medium</soundCastTail>
                           <muzzleFlashScale>9</muzzleFlashScale>
                        </li>
                     </verbs>
                     <tools>
                        <li>
                           <label>stock</label>
                           <capacities>
                              <li>Blunt</li>
                           </capacities>
                           <power>11</power>
                           <cooldownTime>3</cooldownTime>
                        </li>
                        <li>
                           <label>barrel</label>
                           <capacities>
                              <li>Blunt</li>
                              <li>Poke</li>
                           </capacities>
                           <power>9</power>
                           <cooldownTime>3</cooldownTime>
                        </li>
                     </tools>
                     <modExtensions>
                        <li Class="VFECore.FloorGraphicExtension">
                           <graphicData>
                              <graphicClass>Graphic_Single</graphicClass>
                              <texPath>Things/Item/WeaponsBoxed/WarcasketCryptoCannon_OnFloor</texPath>
                              <onGroundRandomRotateAngle>0</onGroundRandomRotateAngle>
                              <drawSize>1</drawSize>
                           </graphicData>
                        </li>
                     </modExtensions>
                  </ThingDef>
                  <VFECore.ExpandableProjectileDef ParentName="BaseBullet">
                     <defName>VFE_Bullet_CryptoCannon</defName>
                     <label>crypto cannon charge</label>
                     <thingClass>VFECore.FlamethrowProjectile</thingClass>
                     <graphicData>
                        <texPath>Projectile/Proj_WarcasketCryptocannon</texPath>
                        <texPathFadeOut>Projectile/Proj_WarcasketCryptocannonFadeOut</texPathFadeOut>
                        <shaderType>MoteGlow</shaderType>
                     </graphicData>
                     <projectile>
                        <damageDef>Frostbite</damageDef>
                        <speed>45</speed>
                        <damageAmountBase>6</damageAmountBase>
                        <armorPenetrationBase>0.15</armorPenetrationBase>
                        <stoppingPower>1.5</stoppingPower>
                     </projectile>
                     <drawOffscreen>true</drawOffscreen>
                     <lifeTimeDuration>50</lifeTimeDuration>
                     <widthScaleFactor>0.65</widthScaleFactor>
                     <heightScaleFactor>1</heightScaleFactor>
                     <startingPositionOffset>(0, 0, -1)</startingPositionOffset>
                     <totalSizeScale>1.15</totalSizeScale>
                     <tickFrameRate>2</tickFrameRate>
                     <finalTickFrameRate>5</finalTickFrameRate>
                     <tickDamageRate>20</tickDamageRate>
                     <dealsDamageOnce>true</dealsDamageOnce>
                     <minDistanceToAffect>2</minDistanceToAffect>
                  </VFECore.ExpandableProjectileDef>
               </value>
            </li>
         </operations>
      </match>
   </Operation>
</Patch>

