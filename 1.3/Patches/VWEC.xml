<?xml version="1.0" encoding="UTF-8"?>
<Patch>
   <Operation Class="PatchOperationFindMod">
      <mods>
         <li>Vanilla Weapons Expanded - Non-Lethal</li>
      </mods>
      <match Class="PatchOperationSequence">
         <operations>
            <li Class="PatchOperationAdd">
               <xpath>/Defs</xpath>
               <value>
                  <ThingDef ParentName="VFEP_BaseWarcasketGun">
                     <defName>VFEP_WarcasketGun_Railgun</defName>
                     <label>warcasket railgun</label>
                     <description>tbd.</description>
                     <techLevel>Spacer</techLevel>
                     <graphicData>
                        <texPath>Things/Item/Equipment/WeaponRanged/WarcasketRailgun</texPath>
                        <graphicClass>Graphic_Single</graphicClass>
                        <drawSize>1</drawSize>
                     </graphicData>
                     <soundInteract>VWE_Interact_GaussRifle</soundInteract>
                     <statBases>
                        <MarketValue>3200</MarketValue>
                        <WorkToMake>110000</WorkToMake>
                        <Mass>45</Mass>
                        <AccuracyTouch>0.40</AccuracyTouch>
                        <AccuracyShort>0.65</AccuracyShort>
                        <AccuracyMedium>0.86</AccuracyMedium>
                        <AccuracyLong>0.88</AccuracyLong>
                        <RangedWeapon_Cooldown>2.4</RangedWeapon_Cooldown>
                     </statBases>
                     <weaponTags>
                        <li>WarcasketVeteran</li>
                     </weaponTags>
                     <verbs>
                        <li>
                           <verbClass>Verb_Shoot</verbClass>
                           <hasStandardCommand>true</hasStandardCommand>
                           <defaultProjectile>VWE_Bullet_WarcasketRailgun</defaultProjectile>
                           <warmupTime>5.8</warmupTime>
                           <range>59.9</range>
                           <ticksBetweenBurstShots>12</ticksBetweenBurstShots>
                           <burstShotCount>3</burstShotCount>
                           <soundCast>VWE_Shot_GaussLance</soundCast>
                           <soundCastTail>GunTail_Heavy</soundCastTail>
                           <muzzleFlashScale>14</muzzleFlashScale>
                           <targetParams>
                              <canTargetLocations>true</canTargetLocations>
                              <canTargetPawns>true</canTargetPawns>
                              <canTargetBuildings>true</canTargetBuildings>
                           </targetParams>
                        </li>
                     </verbs>
                     <tools>
                        <li>
                           <label>barrel</label>
                           <capacities>
                              <li>Blunt</li>
                           </capacities>
                           <power>11.7</power>
                           <cooldownTime>2.6</cooldownTime>
                        </li>
                     </tools>
                     <equippedAngleOffset>53</equippedAngleOffset>
                     <comps>
                        <li Class="CompOversizedWeapon.CompProperties_OversizedWeapon">
                           <eastOffset>(0,0,-0.18)</eastOffset>
                           <westOffset>(0,0,-0.18)</westOffset>
                           <southOffset>(0,0,-0.18)</southOffset>
                           <northOffset>(0,0,-0.18)</northOffset>
                        </li>
                     </comps>
                  </ThingDef>
                  <ThingDef ParentName="VFEP_WarcasketWeaponBoxBase">
                     <defName>VFEP_Box_Railgun</defName>
                     <label>warcasket railgun</label>
                     <description>tbd.</description>
                     <graphicData>
                        <texPath>Things/Item/WeaponsBoxed/WarcasketRailgun</texPath>
                     </graphicData>
                     <costList>
                        <Steel>180</Steel>
                        <Uranium>80</Uranium>
                        <ComponentSpacer>8</ComponentSpacer>
                     </costList>
                     <statBases>
                        <MarketValue>3200</MarketValue>
                        <Mass>45</Mass>
                        <WorkToBuild>110000</WorkToBuild>
                     </statBases>
                     <comps>
                        <li Class="VFEPirates.CompProperties_WeaponBox">
                           <weaponToEquip>VFEP_WarcasketGun_Railgun</weaponToEquip>
                        </li>
                     </comps>
                  </ThingDef>
                  <VFECore.ExpandableProjectileDef ParentName="BaseBullet">
                     <defName>VWE_Bullet_WarcasketRailgun</defName>
                     <label>railgun sabot</label>
                     <projectile>
                        <damageDef>Bullet</damageDef>
                        <damageAmountBase>50</damageAmountBase>
                        <armorPenetrationBase>0.70</armorPenetrationBase>
                        <stoppingPower>2</stoppingPower>
                        <speed>150</speed>
                     </projectile>
                     <thingClass>VFECore.GaussProjectile</thingClass>
                     <graphicData>
                        <texPath>Projectiles/Proj_CoilgunFadeIn</texPath>
                        <texPathFadeOut>Projectiles/Proj_CoilgunFadeOut</texPathFadeOut>
                     </graphicData>
                     <reachMaxRangeAlways>true</reachMaxRangeAlways>
                     <drawOffscreen>true</drawOffscreen>
                     <lifeTimeDuration>50</lifeTimeDuration>
                     <minDistanceToAffect>1.9</minDistanceToAffect>
                     <widthScaleFactor>0.10</widthScaleFactor>
                     <heightScaleFactor>1</heightScaleFactor>
                     <startingPositionOffset>(0,0,-1)</startingPositionOffset>
                     <totalSizeScale>0.8</totalSizeScale>
                     <tickFrameRate>2</tickFrameRate>
                     <finalTickFrameRate>2</finalTickFrameRate>
                     <tickDamageRate>5</tickDamageRate>
                     <dealsDamageOnce>true</dealsDamageOnce>
                     <stopWhenHit>false</stopWhenHit>
                     <stopWhenHitAt>
                        <li>MineableSteel</li>
                        <li>CollapsedRocks</li>
                        <li>MineableSilver</li>
                        <li>MineableGold</li>
                        <li>MineableUranium</li>
                        <li>MineablePlasteel</li>
                        <li>MineableJade</li>
                        <li>MineableComponentsIndustrial</li>
                        <li>RaisedRocks</li>
                        <li>Sandstone</li>
                        <li>SmoothedSandstone</li>
                        <li>Granite</li>
                        <li>SmoothedGranite</li>
                        <li>Limestone</li>
                        <li>SmoothedLimestone</li>
                        <li>Slate</li>
                        <li>SmoothedSlate</li>
                        <li>Marble</li>
                        <li>SmoothedMarble</li>
                     </stopWhenHitAt>
                  </VFECore.ExpandableProjectileDef>
               </value>
            </li>
         </operations>
      </match>
   </Operation>
</Patch>

